devtools::load_all(".")
devtools::document()
library(ExactMed)
data("datamed")
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
gh <- exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
gh
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
gh <- listvector("list", length = 2)
gh <- vector("list", length = 2)
gh
gh[[1]] <- c( a =2, b= 3)
gh
names(gh[[1]]) <- NULL
gh[[1]]
rm(list =ls())
devtools::load_all(".")
library(ExactMed)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
m_cov_cond <- c(C1 = 0.1, C2 = 0.4)
y_cov_cond <- c(C1 = 0.1, C2 = 0.4)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"),
m_cov_cond = m_cov_cond, y_cov_cond = y_cov_cond
)
m_cov_cond <- c(C1 = 0.1, C2 = 0.4)
y_cov_cond <- c(C1 = 0.1, C2 = 0.4)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"),
m_cov_cond = m_cov_cond, y_cov_cond = y_cov_cond
)
C1b <- factor(sample(c("a", "b", "c"), nrow(datamed), replace = TRUE))
datamed$C1 <- C1b
m_cov_cond <- list(C1 = "c", C2 = 0.4)
y_cov_cond <- list(C1 = "c", C2 = 0.4)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"),
m_cov_cond = m_cov_cond, y_cov_cond = y_cov_cond
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot =TRUE, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 300
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot =TRUE, nboot = 300, yprevalence = 0.1
)
devtools::load_all(".")
devtools::document()
library(ExactMed)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
install.packages("rmarkdown")
library(rmarkdown)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
library(ExactMed)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
devtools::test_coverage()
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, yprevalence = 0.1
)
warnings()
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE,  boot = TRUE, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE,   yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE,   yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE,   yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE,   yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE
)
head(datamed)
nrow(datamed)
m <- "M"
a <- "X"
m_cov <- c("C1", "C2")
y_cov <- c("C1", "C2")
Mform <- as.formula(paste(m, "~", paste(c(a, m_cov), collapse = " + ")))
Yform <- as.formula(paste(y, "~", paste(c(a, m, y_cov), collapse = " + ")))
Yform <- terms(Yform, keep.order = TRUE)
y  <- "Y"
Mform <- as.formula(paste(m, "~", paste(c(a, m_cov), collapse = " + ")))
Yform <- as.formula(paste(y, "~", paste(c(a, m, y_cov), collapse = " + ")))
Yform <- terms(Yform, keep.order = TRUE)
Mform
Yform
Yform
Yform <- as.formula(paste(y, "~", paste(c(a, m, y_cov), collapse = " + ")))
Yform
Mform
Yform <- terms(Yform, keep.order = TRUE)
Yform
class(Yform)
Yform <- as.formula(paste(y, "~", paste(c(a, m, y_cov), collapse = " + ")))
class(Yform)
data <- datamed
prob1 <- mean(data[[y]] == 1)
cc_weights <- ifelse(data[[y]] == 1, yprevalence / prob1,
(1 - yprevalence) / (1 - prob1))
yprevalence <- 0.1
prob1 <- mean(data[[y]] == 1)
cc_weights <- ifelse(data[[y]] == 1, yprevalence / prob1,
(1 - yprevalence) / (1 - prob1))
Mreg <- logistf(Mform, data = data, weights = cc_weights)
Yreg <- logistf(Yform, data = data, weights = cc_weights)
library(logistf)
Mreg <- logistf(Mform, data = data, weights = cc_weights)
Yreg <- logistf(Yform, data = data, weights = cc_weights)
Mreg$coefficients
Yreg$coefficients
library(sandwich)
vcovHC(Mreg)
vcovHC(Yreg)
Mreg <- glm(Mform, data = data, family = binomial(link = "logit"),
weights = cc_weights)
Yreg <- glm(Yform, data = data, family = binomial(link = "logit"),
weights = cc_weights)
vcovHC(Mreg)
Mreg <- logistf(Mform, data = data, weights = cc_weights)
Yreg <- logistf(Yform, data = data, weights = cc_weights)
Mreg$coefficients
Yreg$coefficients
vcov(Mreg)
devtools::load_all(".")
devtools::document()
help(glm)
m <- "M"
a <- "X"
y  <- "Y"
m_cov <- c("C1", "C2")
y_cov <- c("C1", "C2")
Mform <- as.formula(paste(m, "~", paste(c(a, m_cov), collapse = " + ")))
Yform <- as.formula(paste(y, "~", paste(c(a, m, y_cov), collapse = " + ")))
Yform <- terms(Yform, keep.order = TRUE)
data <- datamed
yprevalence <- 0.1
prob1 <- mean(data[[y]] == 1)
cc_weights <- ifelse(data[[y]] == 1, yprevalence / prob1,
(1 - yprevalence) / (1 - prob1))
library(logistf)
Mreg <- logistf(Mform, data = data, weights = cc_weights)
Yreg <- logistf(Yform, data = data, weights = cc_weights)
Mreg$coefficients
Yreg$coefficients
Mreg <- glm(Mform, data = data, family = binomial(link = "logit"),
weights = cc_weights)
Yreg <- glm(Yform, data = data, family = binomial(link = "logit"),
weights = cc_weights)
vcovHC(Mreg)
vcovHC(Yreg)
Mreg2 <- glm(Mform, data = data, family = quasibinomial(link = "logit"),
weights = cc_weights)
Yreg2 <- glm(Yform, data = data, family = quasibinomial(link = "logit"),
weights = cc_weights)
Mreg$coefficients
Mreg2$coefficients
Yreg$coefficients
Yreg2$coefficients
all(Mreg$coefficients == Mreg2$coefficients)
all(Yreg$coefficients == Yreg2$coefficients)
all(vcovHC(Mreg) == vcovHC(Mreg2))
all(vcovHC(Yreg) == vcovHC(Yreg2))
Mreg2 <- glm(Mform, data = data, family = quasibinomial(link = "logit"),dispersion =1,
weights = cc_weights)
Mreg2 <- glm(Mform, data = data, family = quasibinomial(link = "logit",dispersion =1),
weights = cc_weights)
class(Mreg)
help(vocvHC)
library(sandwich)
help("vcovHC")
Mreg <- glm(Mform, data = data, family = binomial(link = "logit"),
weights = cc_weights)
Yreg <- glm(Yform, data = data, family = binomial(link = "logit"),
weights = cc_weights)
vcov(Mreg)
vcovHC(Mreg)
all(vcov(Mreg) == vcovHC(Mreg))
Mreg$cov.unscaled
Gh <- summary.glm(Mreg)
Gh$cov.unscaled
all(vcov(Mreg) == Gh$cov.unscaled)
all(vcov(Mreg) == Gh$cov.scaled)
all(vcovHC(Mreg) == Gh$cov.scaled)
all(vcovHC(Mreg) == vcovHC(Mreg2)) #  not the same
all(vcov(Mreg) == vcov(Mreg2))
devtools::load_all(".")
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, Firth = TRUE
)
sessionInfo()
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, Firth = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, Firth = TRUE, yprevalence = 0.1
)
warnings()
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::document()
library(ExactMed)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, Firth = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, yprevalence = 0.1
)
devtools::load_all(".")
devtools::document()
library(ExactMed)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, Firth = TRUE, yprevalence = 0.1
)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::test_coverage()
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::load_all(".")
devtools::document()
library(ExactMed)
dim(datamed)
devtools::load_all(".")
devtools::load_all(".")
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
results13 <- exactmed_c(
data = datamed_c, a = 'X', m = 'M', y = 'Y', a1 = 1, a0 = 0,
m_cov = c('C1', 'C2'), y_cov = c('C1', 'C2'),
interaction = FALSE
)
head(datamed)
head(datamed_c)
mean(datamed_c$M)
exactmed_c(
data = datamed_c, a = 'X', m = 'M', y = 'Y', a1 = 1, a0 = 0,
m_cov = c('C1', 'C2'), y_cov = c('C1', 'C2'),
interaction = FALSE
)
exactmed_c(
data = datamed_c, a = 'X', m = 'M', y = 'Y', a1 = 1, a0 = 0,
m_cov = c('C1', 'C2'), y_cov = c('C1', 'C2'),
interaction = FALSE, mf =1
)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
range(datamed[[M]])
head(datamed)
range(datamed[["M"]])
range(datamed_c[["M"]])
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), mf =10
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), mf =5
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), mf ='a'
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
devtools::load_all(".")
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
devtools::load_all(".")
devtools::document()
library(ExactMed)
