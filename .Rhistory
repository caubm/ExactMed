nrow(datamed)
m <- "M"
a <- "X"
m_cov <- c("C1", "C2")
y_cov <- c("C1", "C2")
Mform <- as.formula(paste(m, "~", paste(c(a, m_cov), collapse = " + ")))
Yform <- as.formula(paste(y, "~", paste(c(a, m, y_cov), collapse = " + ")))
Yform <- terms(Yform, keep.order = TRUE)
y  <- "Y"
Mform <- as.formula(paste(m, "~", paste(c(a, m_cov), collapse = " + ")))
Yform <- as.formula(paste(y, "~", paste(c(a, m, y_cov), collapse = " + ")))
Yform <- terms(Yform, keep.order = TRUE)
Mform
Yform
Yform
Yform <- as.formula(paste(y, "~", paste(c(a, m, y_cov), collapse = " + ")))
Yform
Mform
Yform <- terms(Yform, keep.order = TRUE)
Yform
class(Yform)
Yform <- as.formula(paste(y, "~", paste(c(a, m, y_cov), collapse = " + ")))
class(Yform)
data <- datamed
prob1 <- mean(data[[y]] == 1)
cc_weights <- ifelse(data[[y]] == 1, yprevalence / prob1,
(1 - yprevalence) / (1 - prob1))
yprevalence <- 0.1
prob1 <- mean(data[[y]] == 1)
cc_weights <- ifelse(data[[y]] == 1, yprevalence / prob1,
(1 - yprevalence) / (1 - prob1))
Mreg <- logistf(Mform, data = data, weights = cc_weights)
Yreg <- logistf(Yform, data = data, weights = cc_weights)
library(logistf)
Mreg <- logistf(Mform, data = data, weights = cc_weights)
Yreg <- logistf(Yform, data = data, weights = cc_weights)
Mreg$coefficients
Yreg$coefficients
library(sandwich)
vcovHC(Mreg)
vcovHC(Yreg)
Mreg <- glm(Mform, data = data, family = binomial(link = "logit"),
weights = cc_weights)
Yreg <- glm(Yform, data = data, family = binomial(link = "logit"),
weights = cc_weights)
vcovHC(Mreg)
Mreg <- logistf(Mform, data = data, weights = cc_weights)
Yreg <- logistf(Yform, data = data, weights = cc_weights)
Mreg$coefficients
Yreg$coefficients
vcov(Mreg)
devtools::load_all(".")
devtools::document()
help(glm)
m <- "M"
a <- "X"
y  <- "Y"
m_cov <- c("C1", "C2")
y_cov <- c("C1", "C2")
Mform <- as.formula(paste(m, "~", paste(c(a, m_cov), collapse = " + ")))
Yform <- as.formula(paste(y, "~", paste(c(a, m, y_cov), collapse = " + ")))
Yform <- terms(Yform, keep.order = TRUE)
data <- datamed
yprevalence <- 0.1
prob1 <- mean(data[[y]] == 1)
cc_weights <- ifelse(data[[y]] == 1, yprevalence / prob1,
(1 - yprevalence) / (1 - prob1))
library(logistf)
Mreg <- logistf(Mform, data = data, weights = cc_weights)
Yreg <- logistf(Yform, data = data, weights = cc_weights)
Mreg$coefficients
Yreg$coefficients
Mreg <- glm(Mform, data = data, family = binomial(link = "logit"),
weights = cc_weights)
Yreg <- glm(Yform, data = data, family = binomial(link = "logit"),
weights = cc_weights)
vcovHC(Mreg)
vcovHC(Yreg)
Mreg2 <- glm(Mform, data = data, family = quasibinomial(link = "logit"),
weights = cc_weights)
Yreg2 <- glm(Yform, data = data, family = quasibinomial(link = "logit"),
weights = cc_weights)
Mreg$coefficients
Mreg2$coefficients
Yreg$coefficients
Yreg2$coefficients
all(Mreg$coefficients == Mreg2$coefficients)
all(Yreg$coefficients == Yreg2$coefficients)
all(vcovHC(Mreg) == vcovHC(Mreg2))
all(vcovHC(Yreg) == vcovHC(Yreg2))
Mreg2 <- glm(Mform, data = data, family = quasibinomial(link = "logit"),dispersion =1,
weights = cc_weights)
Mreg2 <- glm(Mform, data = data, family = quasibinomial(link = "logit",dispersion =1),
weights = cc_weights)
class(Mreg)
help(vocvHC)
library(sandwich)
help("vcovHC")
Mreg <- glm(Mform, data = data, family = binomial(link = "logit"),
weights = cc_weights)
Yreg <- glm(Yform, data = data, family = binomial(link = "logit"),
weights = cc_weights)
vcov(Mreg)
vcovHC(Mreg)
all(vcov(Mreg) == vcovHC(Mreg))
Mreg$cov.unscaled
Gh <- summary.glm(Mreg)
Gh$cov.unscaled
all(vcov(Mreg) == Gh$cov.unscaled)
all(vcov(Mreg) == Gh$cov.scaled)
all(vcovHC(Mreg) == Gh$cov.scaled)
all(vcovHC(Mreg) == vcovHC(Mreg2)) #  not the same
all(vcov(Mreg) == vcov(Mreg2))
devtools::load_all(".")
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, Firth = TRUE
)
sessionInfo()
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, Firth = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, Firth = TRUE, yprevalence = 0.1
)
warnings()
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::document()
library(ExactMed)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, Firth = TRUE
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, yprevalence = 0.1
)
devtools::load_all(".")
devtools::document()
library(ExactMed)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), Firth = TRUE, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, yprevalence = 0.1
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100, Firth = TRUE, yprevalence = 0.1
)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::test_coverage()
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::load_all(".")
devtools::document()
library(ExactMed)
dim(datamed)
devtools::load_all(".")
devtools::load_all(".")
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
results13 <- exactmed_c(
data = datamed_c, a = 'X', m = 'M', y = 'Y', a1 = 1, a0 = 0,
m_cov = c('C1', 'C2'), y_cov = c('C1', 'C2'),
interaction = FALSE
)
head(datamed)
head(datamed_c)
mean(datamed_c$M)
exactmed_c(
data = datamed_c, a = 'X', m = 'M', y = 'Y', a1 = 1, a0 = 0,
m_cov = c('C1', 'C2'), y_cov = c('C1', 'C2'),
interaction = FALSE
)
exactmed_c(
data = datamed_c, a = 'X', m = 'M', y = 'Y', a1 = 1, a0 = 0,
m_cov = c('C1', 'C2'), y_cov = c('C1', 'C2'),
interaction = FALSE, mf =1
)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
range(datamed[[M]])
head(datamed)
range(datamed[["M"]])
range(datamed_c[["M"]])
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), mf =10
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), mf =5
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), mf ='a'
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
devtools::load_all(".")
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2")
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot =TRUE,
nboot = 100)
bv <- exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot =TRUE,
nboot = 100)
bv
print.results()
ls()
rm(bv)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot =TRUE,
nboot = 100)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot =TRUE,
nboot = 100)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
library(ExactMed)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot =TRUE,
nboot = 100)
vb<- exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot =TRUE,
nboot = 100)
vb
class(vb)
print.listof(vb)
vb
paste("hola", "c")
devtools::load_all(".")
devtools::document()
cat("hola")
cat("hola", ":")
cat("hola", ":", sep ="")
cat("hola", ":", "\n")
cat("hola", ":", "\n", "hola")
cat("hola", ":", "\n", "hola", sep = "")
devtools::load_all(".")
devtools::document()
library(ExactMed)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
cat("\n", "hola")
help(head)
grep("gh", "me llamo Miguel")
grep("gh", "me llamo Miguelgh")
grep("gh", "me llamo Miguelghgh")
if(integer(0)) cat("9")
"gh" %in% "me llamo Miguel"
"gh" %in% "me llamo Miguelgh"
class(integer(0))
length(integer(0))
if(length(integer(0))) cat("hola") else cat("adios")
grep1("gh", "me llamo Miguel")
help(grep1)
??grep1
grepl("gh", "me llamo Miguel")
grepl("gh", "me llamo Miguelgh")
grepl("gh", "me llamo Miguelghgh")
help(grepl)
devtools::load_all(".")
devtools::document()
devtools::load_all(".")
devtools::document()
library(ExactMed)
exactmed_c(
data = datamed_c, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot = TRUE, nboot = 100
)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"), boot =TRUE,
nboot = 100)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"))
devtools::load_all(".")
library(ExactMed)
exactmed(
data = datamed, a = "X", m = "M", y = "Y", a1 = 1, a0 = 0,
m_cov = c("C1", "C2"), y_cov = c("C1", "C2"))
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
2+2
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
devtools::load_all(".")
library(ExactMed)
devtools::load_all(".")
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document
devtools::document()
library(ExactMed)
devtools::load_all(".")
devtools::document()
library(ExactMed)
